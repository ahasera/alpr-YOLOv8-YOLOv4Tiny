{% extends "index.html" %}
{% block content %}
<h2>Batch Processing</h2>
<form action="{{ url_for('batch') }}" method="post" enctype="multipart/form-data">
    <div class="mb-3">
        <label for="model" class="form-label">Choose YOLO model:</label>
        <select name="model" id="model" class="form-select">
            <option value="yolov8">YOLOv8</option>
            <option value="yolov4-tiny">YOLOv4-Tiny</option>
        </select>
    </div>
    <div class="mb-3">
        <label for="files" class="form-label">Upload images:</label>
        <input type="file" name="files" id="files" multiple class="form-control">
    </div>
    <div class="mb-3 form-check">
        <input type="checkbox" name="preprocess" id="preprocess" class="form-check-input">
        <label for="preprocess" class="form-check-label">Enable preprocessing</label>
    </div>
    <div class="mb-3">
        <label for="confidence" class="form-label">Confidence threshold: <span id="confidenceValue">0.5</span></label>
        <input type="range" name="confidence" id="confidence" min="0" max="1" step="0.01" value="0.5" class="form-range">
    </div>
    <button type="submit" class="btn btn-primary">Process Images</button>
</form>

<script>
    const confidenceSlider = document.getElementById('confidence');
    const confidenceValue = document.getElementById('confidenceValue');
    confidenceSlider.addEventListener('input', function() {
        confidenceValue.textContent = this.value;
    });
</script>
{% endblock %}